(()=>{"use strict";class t{constructor(t,e,n){this.principal=t,this.years=e,this.rate=n}get monthlyPayment(){let t=this.rate/100/12;return this.principal*t/(1-Math.pow(1/(1+t),12*this.years))}get amortization(){let t=this.monthlyPayment,e=this.rate/100/12,n=this.principal,i=[];for(let r=0;r<this.years;r++){let r=0,a=0;for(let i=0;i<12;i++){let i=n*e,l=t-i;r+=i,a+=l,n-=l}i.push({principalY:a,interestY:r,balance:n})}return i}}document.getElementById("calcBtn").addEventListener("click",(()=>{let e=document.getElementById("principal").value,n=document.getElementById("years").value,i=document.getElementById("rate").value,r=new t(e,n,i);document.getElementById("monthlyPayment").innerHTML=r.monthlyPayment.toFixed(2),document.getElementById("monthlyRate").innerHTML=(i/12).toFixed(2);let a="";r.amortization.forEach(((t,e)=>a+=`\n        <tr>\n            <td>${e+1}</td>\n            <td class="currency">${Math.round(t.principalY)}</td>\n            <td class="stretch">\n                <div class="flex">\n                    <div class="bar principal"\n                         style="flex:${t.principalY};-webkit-flex:${t.principalY}">\n                    </div>\n                    <div class="bar interest"\n                         style="flex:${t.interestY};-webkit-flex:${t.interestY}">\n                    </div>\n                </div>\n            </td>\n            <td class="currency left">${Math.round(t.interestY)}</td>\n            <td class="currency">${Math.round(t.balance)}</td>\n        </tr>\n    `)),document.getElementById("amortization").innerHTML=a}))})();